# 設計書

## コード実装する前に考えること

1. 既存のストップウォッチ UI を参考にし、必要最低限の構成を把握する
2. 「状態(state)」を洗い出す
3. ゲームの「状態遷移」を言葉で整理する
4. 外部の時間・API・イベントの「副作用」を使うのはいつ？

## ググり調査やメモ

- AI からの問題はカウントアップのみ
- Google Chrome で「タイマー」と検索し、ヒットしたストップウォッチを模倣する
- 現在の状態がわかる UI は「テキスト + 色」で対応（状態管理の課題のため）
- 画面中央に経過時間の表示
- 画面右上に現在の状態（動作中 / 停止中）がわかる UI
- 画面下にタイマー開始ボタン
- 開始ボタンをクリック後に停止ボタンとリセットボタンを配置（開始ボタンは消える）
- 停止ボタンをクリックしたら時間は停止し、再生ボタンに切り替わる（再生ボタンをクリックすると、再び時間が進む）
- リセットボタンを押すとどんな状況でも、初期状態になる
- 余裕があれば…停止中はバックグランドなどの背景色を変えてみる
- タイマーの状態
  - 開始/再生(running)・停止(stopped)を一つの定数(status)とする、型定義は statusTime
  - リセット(reset)
  - 経過時間(elapsedTime)

## 状態(state)

- status: 開始/再生(running)・停止(stopped)・リセット(reset)、型定義(statusTime)
- elapsedTime: 経過時間(elapsedTime)

## 状態遷移

- 初期状態
  - status = "stopped"
  - elapsedTime = 0
- 開始ボタンを押す
  - status = "running"
- 再生中
  - 1 秒ずつ elapsedTime が増加する
  - 開始ボタンが消え、停止ボタンとリセットボタンが表示される
- 停止ボタンを押す
  - status = "stopped"
  - elapsedTime は停止する
  - 停止ボタンが再生/開始ボタンに切り替わる
- 再生ボタンを押す
  - status = "running"
  - elapsedTime は再び増加する
  - 再生/開始ボタンは停止ボタンに切り替わる
- リセットボタンを押す
  - status = "stopped"
  - elapsedTime = 0

## 副作用

- status が"running"のときのみ、1 秒ごとに elapsedTime を +1 する
- status が"stopped"のときはタイマーを停止する
- useEffect 内で setInterval を使用し、クリーンアップを行う
